/* =========================================
   RESET & LAYOUT DASAR
   ========================================= */
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, 'Helvetica Neue', Arial;
  background: #f9f9f9;
  color: #222;
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  padding: 20px;
}

main {
  max-width: 480px;
  width: 100%;
  background: #fff;
  border-radius: 10px;
  box-shadow: 0 8px 20px rgb(0 0 0 / 0.1);
  padding: 20px 30px 30px;
}

/* =========================================
   HEADER
   ========================================= */
.site-header {
  display: flex;
  align-items: center;
  gap: 20px;
  margin-bottom: 25px;
  padding: 10px 20px;
  background: #f8f9fa;
  border-bottom: 2px solid #ccc;
  border-radius: 10px;
}
.logo-majene { width: 70px; height: 70px; object-fit: contain; }
.instansi-info h1 {
  margin: 0; font-size: 1.2em; color: #003366; font-weight: 700; text-align: center;
}
.instansi-info p {
  margin: 2px 0 0; font-size: .95em; color: #444; text-align: center;
}

/* =========================================
   JUDUL & KONTROL ATAS
   ========================================= */
h2 { margin: .25rem 0 1rem; color: #0a3d62; }
.top-controls {
  display: flex; justify-content: space-between; align-items: center; gap: 10px; flex-wrap: wrap; margin-bottom: 15px; font-weight: 600; color: #333;
}
#tanggalHari, #jamDigital { flex: 1 1 auto; min-width: 150px; }

/* =========================================
   FORM & BUTTONS
   ========================================= */
label { display: block; margin-bottom: 6px; font-weight: 600; }

input[type="text"] {
  width: 100%; padding: 10px 12px; border-radius: 6px; border: 1.5px solid #ccc;
  font-size: 1rem; margin-bottom: 12px; transition: border-color .3s;
}
input[type="text"]:focus { outline: none; border-color: #0a3d62; }

button {
  cursor: pointer; padding: 10px 15px; border-radius: 6px; border: none; font-weight: 700; transition: .2s background-color;
}
button:focus-visible { outline: 2px solid #0a3d62; outline-offset: 2px; }

button[type="submit"], #btnScan { background: #0a3d62; color: #fff; }
button[type="submit"]:hover, #btnScan:hover { background: #074074; }

.btn-secondary {
  background: #74b9ff; color: #0a3d62; margin-top: 15px; width: 100%;
}
.btn-secondary:hover { background: #0984e3; color: #fff; }

.spinner {
  display: inline-block; width: 16px; height: 16px; border: 2px solid #fff; border-top: 2px solid #333;
  border-radius: 50%; animation: spin .6s linear infinite; margin-left: 8px; vertical-align: middle;
}
@keyframes spin { to { transform: rotate(360deg); } }

/* =========================================
   SCANNER (QR Code)
   ========================================= */
#scanner {
  margin-top: 15px; display: none; border: 2px solid #0a3d62; border-radius: 10px; overflow: hidden; width: 100%; max-width: 400px; margin-left: auto; margin-right: auto;
}

/* =========================================
   TABEL RIWAYAT
   ========================================= */
#riwayat table {
  width: 100%; border-collapse: separate; border-spacing: 0 10px; font-size: .9rem;
  box-shadow: 0 2px 8px rgb(0 0 0 / 0.1); background: #fff; border-radius: 10px; overflow: hidden;
}
#riwayat thead { background: #0a3d62; color: #fff; font-weight: 700; text-transform: uppercase; }
#riwayat th, #riwayat td { padding: 12px 15px; text-align: center; border: none; }
#riwayat tbody tr {
  background: #f9f9f9; transition: background-color .2s; border-radius: 10px; box-shadow: 0 1px 4px rgb(0 0 0 / 0.05);
}
#riwayat tbody tr:nth-child(even) { background: #e6f0ff; }
#riwayat tbody tr:hover { background: #d0e1ff; }

/* =========================================
   FORM IZIN/SAKIT (MODAL)
   ========================================= */
.modal { display: none; position: fixed; z-index: 999; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,.6); }
.modal-content {
  background: #fff;
  margin: 3vh auto;
  width: 90%;
  max-width: 400px;
  border-radius: 10px;

 max-height: calc(100dvh - 32px);
  display: flex;
  flex-direction: column;
  overflow: hidden;
}


.modal-content h4 { margin-bottom: 15px; font-size: 1.2rem; font-weight: 700; border-bottom: 1px solid #ccc; padding-bottom: 8px; color: #0a3d62; }
.modal-content label { margin-top: 15px; display: block; font-weight: 600; color: #333; }
.modal-content select, .modal-content input[type="file"] {
  width: 100%; padding: 10px 12px; margin-top: 5px; font-size: 0.95rem; border: 1.5px solid #ccc; border-radius: 6px; background-color: #fff; color: #222;
}
.modal-content textarea {
  width: 100%; padding: 10px 12px; margin-top: 5px; font-size: 0.95rem; border: 1.5px solid #ccc; border-radius: 6px; background-color: #fff; color: #222;
  height: 100px; max-height: 150px; resize: vertical;
}

.modal-content button {
  margin-top: 20px; padding: 10px 18px; font-size: 0.95rem; font-weight: bold; border: none; border-radius: 8px; cursor: pointer;
  
}
.modal-content button:first-of-type { background-color: #0a3d62; color: white; }
.modal-content button:last-of-type { background-color: #aaa; color: white; }

#izinLoading { display: none; margin-top: 10px; color: #0a3d62; font-weight: 700; }

/* =========================================
   RULES MODAL (SCROLLABLE)
   ========================================= */
#rulesModal { position: fixed; inset: 0; display: none; background: rgba(0,0,0,.6); z-index: 9999; overscroll-behavior: contain; }
#rulesModal .rules-content {
  margin: 6vh auto; padding: 0; max-width: none; width: min(92vw, 720px); height: min(88vh, 88dvh);
  overflow: hidden; border-radius: 12px; background: #fff; display: flex; flex-direction: column;
}
#rulesModal .modal-header { padding: 12px 16px; border-bottom: 1px solid #e5e7eb; position: sticky; top: 0; background: inherit; z-index: 1; }
#rulesModal .modal-body {
  flex: 1 1 0; min-height: 0; overflow-y: auto; -webkit-overflow-scrolling: touch; touch-action: pan-y; padding: 12px 16px; line-height: 1.45;
}
#rulesModal .modal-actions { border-top: 1px solid #e5e7eb; padding: 10px 16px; display: flex; justify-content: flex-end; }
#rulesModal ul { margin: 0 0 .75rem 1.25rem; }
#rulesModal li { margin: .25rem 0; }
#rulesModal section + section { margin-top: .75rem; padding-top: .5rem; border-top: 1px dashed #eef2f7; }
#rulesModal code { background: #f6f7f9; padding: 0 4px; border-radius: 4px; }
@media (max-width: 480px) {
  #rulesModal h4 { font-size: 1rem; }
  #rulesModal li, #rulesModal p { font-size: .95rem; line-height: 1.4; }
}
body.modal-open { overflow: hidden; position: fixed; width: 100%; }

/* =========================================
   SELFIE CAPTURE
   ========================================= */
.selfie-box {
  margin: 10px 0 6px; padding: 12px; border: 1.5px dashed #0a3d62; border-radius: 10px; background: #f6fbff;
}
#selfieVideo, #selfiePreview img {
  display: block; width: 100%; max-width: 320px; margin: 0 auto; border-radius: 12px; border: 1px solid #ddd; background: #000;
}
.selfie-box #btnSelfieStart, .selfie-box #btnSelfieShot, .selfie-box #btnSelfieRetake {
  width: 100%; margin-top: 8px;
}
#btnSelfieStart { background: #74b9ff; color: #0a3d62; }
#btnSelfieStart:hover { background: #0984e3; color: #fff; }
#btnSelfieShot { background: #0a3d62; color: #fff; }
#btnSelfieShot:disabled { opacity: .6; cursor: not-allowed; }
#btnSelfieRetake { background: #aaa; color: #fff; }
#selfieVideo { aspect-ratio: 1 / 1; object-fit: cover; }
#selfieCanvas { display: none !important; }

/* =========================================
   STATUS / PESAN & UTIL
   ========================================= */
#message {
  padding: 10px 12px; border-radius: 8px; background: #eef6ff; color: #0a3d62; border: 1px solid #cfe3ff; min-height: 20px; word-break: break-word;
}
button[disabled] { opacity: .65; cursor: not-allowed; }
.btn-izin { background: #16a085; color: #fff; width: 100%; margin-top: 10px; }
.btn-izin:hover { background: #13856e; }
.hidden { display: none !important; }

/* Modal Selfie bisa di-scroll */
#selfieModal .modal-content {
  max-height: calc(100dvh - 32px); overflow-y: auto; display: flex; flex-direction: column; justify-content: flex-start;
}
#selfieModal .modal-content button { margin-bottom: 6px; }




.rekap-btn{
  --grad1:#2563eb; /* biru */
  --grad2:#0ea5e9; /* cyan */
  display:inline-flex; align-items:center; gap:.6rem;
  padding:.65rem 1rem; border-radius:12px;
  background:linear-gradient(135deg,var(--grad1),var(--grad2));
  color:#fff; text-decoration:none; font-weight:700; letter-spacing:.2px;
  box-shadow:0 8px 18px rgba(37,99,235,.25);
  transition:transform .15s ease, box-shadow .15s ease, filter .15s ease;
  font-size: 11px;
}
.rekap-btn:hover{ transform:translateY(-1px); box-shadow:0 12px 24px rgba(37,99,235,.35); filter:saturate(1.05); }
.rekap-btn:active{ transform:translateY(0); box-shadow:0 6px 14px rgba(37,99,235,.25); }
.rekap-btn:focus{ outline:3px solid #bfdbfe; outline-offset:3px; }

/* versi kecil (opsional, jika dipakai di header sempit) */
.header .rekap-btn{ padding:.5rem .8rem; border-radius:10px; font-weight:600 }
.rekap-btn svg{ flex:0 0 18px }
@media (prefers-reduced-motion: reduce){
  .rekap-btn{ transition:none }
}
.izin-header {
  padding: 16px 18px;
  border-bottom: 1px solid #e5e7eb;
  flex-shrink: 0;
  background: #fff;
}

.izin-body {
  padding: 16px 18px;
  overflow-y: auto;
  flex: 1;
  -webkit-overflow-scrolling: touch;
}

.izin-footer {
  padding: 14px 18px;
  border-top: 1px solid #e5e7eb;
  display: flex;
  gap: 10px;
  justify-content: flex-end;
  flex-shrink: 0;
  background: #fff;
  padding-bottom: calc(14px + env(safe-area-inset-bottom));
}
/* === SELFIE MODAL FIX MOBILE === */
.selfie-modal{
  max-height: 90vh;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.selfie-header{
  padding: 16px 18px;
  border-bottom: 1px solid #e5e7eb;
  flex-shrink: 0;
  background: #fff;
}

.selfie-body{
  padding: 16px 18px;
  flex: 1;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

.selfie-footer{
  padding: 14px 18px;
  border-top: 1px solid #e5e7eb;
  display: flex;
  gap: 10px;
  justify-content: flex-end;
  flex-shrink: 0;
  background: #fff;
  padding-bottom: calc(14px + env(safe-area-inset-bottom));
}
